@page
@model IndexModel
@{
    ViewData["Title"] = "Home Temperatures";
}
<div class="text-center">
    @if (Model.Readings != null && Model.Readings.Count > 0)
    {
        <p>Average temperature:</p>
        <h1 style="color: @(Model.AverageTemp()?.ColorCode)">@Html.Encode(Model.AverageTemp()?.Value)&deg;</h1>
        <br />
        <div class="image-container">
            <img src="~/plan.jpg" id="planImg" alt="floor plan image">
            @foreach (var reading in Model.Readings)
            {
                <div id="@Html.Encode(@reading.SensorId)" class="overlay-text"
                     style="left: @Html.Encode(reading.PositionX)px; top: @Html.Encode(reading.PositionY)px; background-color: @reading.ColorCode">
                    @Html.Encode(@reading.Value)&deg;
                </div>
            }
        </div>
    }
    else
    {
        <p id="error">No readings recorded yet.</p>
        <img src="~/plan.jpg" id="planImg" alt="floor plan image">
    }
</div>